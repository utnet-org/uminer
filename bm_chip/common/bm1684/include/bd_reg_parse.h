#ifndef __BD_REG_PARSE_H__
#define __BD_REG_PARSE_H__
#include "bd_reg_def.h"
#include "gen_cmd.h"

typedef struct {
  int des_cmd_en;
  int des_cmd_end;
  int des_cmd_id_en;
  int des_cmd_id_tpu;
  int des_cmd_id_gdma;
  int des_cmd_keep;
  int des_cmd_intr_en;
  int des_tsk_typ;
  int des_tsk_eu_typ;
  int des_tsk_opd_num;
  int des_opt_right_shift;
  int des_opt_left_shift;
  int des_opt_shift_typ;
  int des_opt_res_add;
  int des_opt_relu;
  int des_opt_left_tran;
  int des_opt_winograd;
  int des_opt_kernel_rotate;
  int des_opt_opd0_sign;
  int des_opt_opd1_sign;
  int des_opt_opd2_sign;
  int des_opt_res0_prec;
  int des_opt_opd0_prec;
  int des_opt_opd1_prec;
  int des_opt_opd2_prec;
  int des_opt_opd0_const;
  int des_opt_opd1_const;
  int des_opt_opd2_const;
  int des_short_res0_str;
  int des_short_opd0_str;
  int des_short_opd1_str;
  int des_short_opd2_str;
  int des_opd0_x_ins0;
  int des_opd0_y_ins0;
  int des_opd1_x_ins0;
  int des_opd1_y_ins0;
  int des_opd0_up_pad;
  int des_opd0_dn_pad;
  int des_opd0_lf_pad;
  int des_opd0_rt_pad;
  int des_res_op_x_str;
  int des_res_op_y_str;
  int des_tsk_lane_num;
  int des_tsk_lane_num;
  int des_res0_n;
  int des_res0_c;
  int des_res0_h;
  int des_res0_w;
  int des_opd0_n;
  int des_opd0_c;
  int des_opd0_h;
  int des_opd0_w;
  int des_opd1_n;
  int des_opd1_c;
  int des_opd1_h;
  int des_opd1_w;
  int des_res0_h_shift;
  int des_res0_w_shift;
  int des_opd0_h_shift;
  int des_opd0_w_shift;
  int des_opd1_h_shift;
  int des_opd1_w_shift;
  int des_res0_n_str;
  int des_res0_c_str;
  int des_opd0_n_str;
  int des_opd0_c_str;
  int des_opd1_n_str;
  int des_opd1_c_str;
  int des_opd2_n_str;
  int des_opd2_c_str;
  int des_res0_addr;
  int des_opd0_addr;
  int des_opd1_addr;
  int des_opd2_addr;
  int des_res0_h_str;
  int des_res0_w_str;
  int des_opd0_h_str;
  int des_opd0_w_str;
  int des_opd1_h_str;
  int des_opd1_w_str;
  int des_opd2_h_str;
  int des_opd2_w_str;
} bd_des_t;

static inline void parse_bd_des_struct(const P_COMMAND cmd, bd_des_t *des) {
  des->des_cmd_en = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_EN);
  des->des_cmd_end = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_END);
  des->des_cmd_id_en = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_ID_EN);
  des->des_cmd_id_tpu = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_ID_TPU);
  des->des_cmd_id_gdma = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_ID_GDMA);
  des->des_cmd_keep = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_KEEP);
  des->des_cmd_intr_en = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_CMD_INTR_EN);
  des->des_tsk_typ = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_TSK_TYP);
  des->des_tsk_eu_typ = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_TSK_EU_TYP);
  des->des_tsk_opd_num = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_TSK_OPD_NUM);
  des->des_opt_right_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_RIGHT_SHIFT);
  des->des_opt_left_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_LEFT_SHIFT);
  des->des_opt_shift_typ = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_SHIFT_TYP);
  des->des_opt_res_add = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_RES_ADD);
  des->des_opt_relu = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_RELU);
  des->des_opt_left_tran = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_LEFT_TRAN);
  des->des_opt_winograd = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_WINOGRAD);
  des->des_opt_kernel_rotate = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_KERNEL_ROTATE);
  des->des_opt_opd0_sign = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD0_SIGN);
  des->des_opt_opd1_sign = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD1_SIGN);
  des->des_opt_opd2_sign = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD2_SIGN);
  des->des_opt_res0_prec = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_RES0_PREC);
  des->des_opt_opd0_prec = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD0_PREC);
  des->des_opt_opd1_prec = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD1_PREC);
  des->des_opt_opd2_prec = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD2_PREC);
  des->des_opt_opd0_const = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD0_CONST);
  des->des_opt_opd1_const = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD1_CONST);
  des->des_opt_opd2_const = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPT_OPD2_CONST);
  des->des_short_res0_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_SHORT_RES0_STR);
  des->des_short_opd0_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_SHORT_OPD0_STR);
  des->des_short_opd1_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_SHORT_OPD1_STR);
  des->des_short_opd2_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_SHORT_OPD2_STR);
  des->des_opd0_x_ins0 = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_X_INS0);
  des->des_opd0_y_ins0 = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_Y_INS0);
  des->des_opd1_x_ins0 = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_X_INS0);
  des->des_opd1_y_ins0 = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_Y_INS0);
  des->des_opd0_up_pad = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_UP_PAD);
  des->des_opd0_dn_pad = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_DN_PAD);
  des->des_opd0_lf_pad = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_LF_PAD);
  des->des_opd0_rt_pad = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_RT_PAD);
  des->des_res_op_x_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES_OP_X_STR);
  des->des_res_op_y_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES_OP_Y_STR);
  des->des_tsk_lane_num = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_TSK_LANE_NUM);
  des->des_tsk_lane_num = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_TSK_LANE_NUM);
  des->des_res0_n = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_N);
  des->des_res0_c = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_C);
  des->des_res0_h = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_H);
  des->des_res0_w = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_W);
  des->des_opd0_n = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_N);
  des->des_opd0_c = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_C);
  des->des_opd0_h = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_H);
  des->des_opd0_w = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_W);
  des->des_opd1_n = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_N);
  des->des_opd1_c = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_C);
  des->des_opd1_h = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_H);
  des->des_opd1_w = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_W);
  des->des_res0_h_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_H_SHIFT);
  des->des_res0_w_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_W_SHIFT);
  des->des_opd0_h_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_H_SHIFT);
  des->des_opd0_w_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_W_SHIFT);
  des->des_opd1_h_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_H_SHIFT);
  des->des_opd1_w_shift = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_W_SHIFT);
  des->des_res0_n_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_N_STR);
  des->des_res0_c_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_C_STR);
  des->des_opd0_n_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_N_STR);
  des->des_opd0_c_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_C_STR);
  des->des_opd1_n_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_N_STR);
  des->des_opd1_c_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_C_STR);
  des->des_opd2_n_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD2_N_STR);
  des->des_opd2_c_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD2_C_STR);
  des->des_res0_addr = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_ADDR);
  des->des_opd0_addr = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_ADDR);
  des->des_opd1_addr = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_ADDR);
  des->des_opd2_addr = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD2_ADDR);
  des->des_opd3_addr = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD3_ADDR);
  des->des_res0_h_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_H_STR);
  des->des_res0_w_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_RES0_W_STR);
  des->des_opd0_h_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_H_STR);
  des->des_opd0_w_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD0_W_STR);
  des->des_opd1_h_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_H_STR);
  des->des_opd1_w_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD1_W_STR);
  des->des_opd2_h_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD2_H_STR);
  des->des_opd2_w_str = (int)get_reg_id_val(cmd, (reg_id_t)BD_ID_DES_OPD2_W_STR);
}

#endif  // __BD_REG_PARSE_H__
